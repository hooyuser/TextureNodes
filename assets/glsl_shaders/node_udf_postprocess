#version 460
#extension GL_EXT_nonuniform_qualifier:enable

layout(local_size_x = 16, local_size_y = 16) in;

layout(std140, set = 0, binding = 0) uniform UniformBufferObject {
    int texture_id;
    float max_distance;
} ubo;

layout(set = 0, binding = 1, r32ui) uniform uimage2D inputImage;



void main() {
	ivec2 coord = ivec2(gl_GlobalInvocationID.xy);
	uint dist = imageLoad(inputImage, coord).r;
	imageStore(outputImage, coord, vec4(float(dist) / float(4294967295)));
}